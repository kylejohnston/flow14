!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).butterSlider={})}(this,(function(e){"use strict";function t(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function o(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach((function(o){t(e,o,i[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var s=function(e){return e instanceof Element||e instanceof HTMLDocument},a=function(e,t){return"NaN"===parseFloat(e).toFixed(2)?t:parseFloat(e).toFixed(2)},l=function(e){return!(!e||"function"!=typeof e)},c=function e(o){var i,r,c,u,d,m,v,f,h,p,g,T,b=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"callCallback",(function(e,t){var o,n,i,r,s;switch(e){case"mousedown":l(null===(o=b.options)||void 0===o?void 0:o.mouseDown)&&b.options.mouseDown();break;case"mouseleave":l(null===(n=b.options)||void 0===n?void 0:n.mouseLeave)&&b.options.mouseLeave();break;case"mouseup":l(null===(i=b.options)||void 0===i?void 0:i.mouseUp)&&b.options.mouseUp();break;case"mousemove":l(null===(r=b.options)||void 0===r?void 0:r.mouseEnter)&&b.options.mouseEnter();break;case"getscrollpercent":l(null===(s=b.options)||void 0===s?void 0:s.getScrollPercent)&&b.options.getScrollPercent(t);break;default:console.warn("No default callback")}})),t(this,"getEvent",(function(e){return e.targetTouches?e.targetTouches[0]:e})),t(this,"mousedown",(function(e){b.isAnimating||b.anime();var t=b.getEvent(e);b.down=!0,b.startX=t.pageX-b.sliderTag.offsetLeft,b.scrollLeft=b.scrollAmount,b.sliderTag.classList.add("active"),b.callCallback("mousedown")})),t(this,"mouseleave",(function(){b.down=!1,b.sliderTag.classList.remove("active"),b.callCallback("mouseleave")})),t(this,"mouseup",(function(){b.down=!1,b.sliderTag.classList.remove("active"),b.callCallback("mouseup")})),t(this,"mousemove",(function(e){b.callCallback("mousemove");var t=b.getEvent(e);b.down&&(b.x=t.pageX-b.sliderTag.offsetLeft,b.dist=b.scrollLeft-(b.x-b.startX)*b.dragSpeed)})),t(this,"getScrollPercent",(function(){var e,t,o,n,i=(e=b.scrollAmount,t=0,o=b.sliderTag.scrollWidth-b.sliderTag.offsetWidth,(e-t)*(100-(n=0))/(o-t)+n);b.callCallback("getscrollpercent",i.toFixed(2))})),t(this,"anime",(function(){b.isAnimating=!0,b.dist+b.scrollAmount<=0&&(b.dist=0),b.dist>=b.sliderTag.scrollWidth-b.containerTag.offsetWidth+b.sliderTagLeft+b.sliderTagRight&&(b.dist=b.sliderTag.scrollWidth-b.containerTag.offsetWidth+b.sliderTagLeft+b.sliderTagRight),b.scrollAmount+=(b.dist-b.scrollAmount)*b.smoothAmount,b.sliderTag.style.transform="translate3D(".concat(-b.scrollAmount.toFixed(2),"px, 0, 0)"),b.getScrollPercent(),b.stopAnimation?cancelAnimationFrame(b.anime):requestAnimationFrame(b.anime)})),t(this,"init",(function(){b.isAnimating=!1,b.stopAnimation=!1,b.getScrollPercent();var e="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;e?e&&b.options.hasTouchEvent?(b.containerTag.addEventListener("touchstart",b.mousedown),b.containerTag.addEventListener("touchleave",b.mouseleave),b.containerTag.addEventListener("touchend",b.mouseup),b.containerTag.addEventListener("touchmove",b.mousemove)):e&&!b.options.hasTouchEvent&&(b.containerTag.style.overflowX="scroll"):(b.containerTag.addEventListener("mousedown",b.mousedown),b.containerTag.addEventListener("mouseleave",b.mouseleave),b.containerTag.addEventListener("mouseup",b.mouseup),b.containerTag.addEventListener("mousemove",b.mousemove))})),t(this,"destroy",(function(){b.stopAnimation=!0,b.containerTag.removeEventListener("mousedown",b.mousedown),b.containerTag.removeEventListener("mouseleave",b.mouseleave),b.containerTag.removeEventListener("mouseup",b.mouseup),b.containerTag.removeEventListener("mousemove",b.mousemove),b.containerTag.removeEventListener("touchstart",b.mousedown),b.containerTag.removeEventListener("touchleave",b.mouseleave),b.containerTag.removeEventListener("touchend",b.mouseup),b.containerTag.removeEventListener("touchmove",b.mousemove)})),this.options=n({},o),(this.options.container||this.options.slider)&&this.options)if(this.containerTag=s(null===(v=this.options)||void 0===v?void 0:v.container)?null===(f=this.options)||void 0===f?void 0:f.container:document.querySelector(null===(h=this.options)||void 0===h?void 0:h.container),this.sliderTag=s(null===(p=this.options)||void 0===p?void 0:p.slider)?null===(g=this.options)||void 0===g?void 0:g.slider:document.querySelector(null===(T=this.options)||void 0===T?void 0:T.slider),null!==this.sliderTag)if(null!==this.containerTag){!0===(null===(i=this.options)||void 0===i?void 0:i.hasTouchEvent)&&"true"===(null===(r=this.options)||void 0===r?void 0:r.hasTouchEvent)?this.options.hasTouchEvent=!0:(null===(c=this.options)||void 0===c?void 0:c.hasTouchEvent)&&"false"!==(null===(u=this.options)||void 0===u?void 0:u.hasTouchEvent)||(this.options.hasTouchEvent=!1);var y=window.getComputedStyle(this.sliderTag).getPropertyValue("margin-left"),w=window.getComputedStyle(this.sliderTag).getPropertyValue("margin-right");this.sliderTagLeft=parseInt(y),this.sliderTagRight=parseInt(w),this.dragSpeed=a(null===(d=this.options)||void 0===d?void 0:d.dragSpeed,1),this.smoothAmount=a(null===(m=this.options)||void 0===m?void 0:m.smoothAmount,.15),this.down=!1,this.startX=0,this.scrollLeft=0,this.isAnimating=!1,this.x=0,this.dist=0,this.scrollAmount=0,this.stopAnimation=!1,this.init()}else console.error("Target element does not exist on the page.",this.containerTag);else console.error("Target element does not exist on the page.",this.sliderTag);else console.error("No container and slider selector.")};e.CreateSlider=c,e.autoInit=function(){var e=[],o=i(document.querySelectorAll("[data-butter-container]")),r=i(document.querySelectorAll("[data-butter-slidable]")),a=i(document.querySelectorAll("[data-butter-progress]"));if(0!==o.length)return o.forEach((function(o){var l=function(e,o,r){var a=e,l=e.dataset.butterContainer;if(l)if(s(e)){var c=o.find((function(e){return e.dataset.butterSlidable===l}));if(s(c)){var u,d=document.querySelector("[data-butter-".concat(l,"-options]")),m=r.find((function(e){return e.dataset.butterProgress===l}));if(s(d))u=i(d.dataset[function(e){for(var t=e.toLowerCase().split("-"),o=1;o<t.length;o++)t[o]=t[o].charAt(0).toUpperCase()+t[o].substring(1);return t.join("")}("butter-".concat(l,"-options"))].split(",")).reduce((function(e,t){var o={option:i(t.split(":"))[0],value:i(t.split(":"))[1]};return[].concat(i(e),[n({},o)])}),[]).reduce((function(e,o){return n(n({},e),{},t({},"".concat(o.option),"".concat(o.value)))}),{});return n(n({container:a,slider:c},u),{},{getScrollPercent:s(m)?function(e){m.style.width="".concat(e,"%")}:null})}console.error("No slidable element was found for this slider : ".concat(l))}else console.error("No container was found for this slider : ".concat(l));else console.error("You need to add a unique id on `data-butter-container`")}(o,r,a),u=new c(l);e.push(u)})),e},Object.defineProperty(e,"__esModule",{value:!0})}));
